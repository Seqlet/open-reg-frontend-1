<nz-layout>
  <nz-header nz-row nzMode="horizontal">
    <ng-container *ngIf="isSSOAuthenticated$ | async">
      <div nz-col nzSpan="6">
        <p style="color: white">You are logged in with ChulaSSO</p>
      </div>
      <button
        nz-col
        nz-offset="12"
        nzSpan="6"
        nz-button
        nzType="primary"
        (click)="logoutSSO()"
      >
        Logout from ChulaSSO
      </button>
    </ng-container>
  </nz-header>
  <nz-content>
    <ng-container *ngIf="isSSOAuthenticated$ | async; else notSSOAuthenticated">
      <app-content-container
        [title]="currentStepObj.title"
        [subtitle]="currentStepObj.description"
      >
        <ng-container [ngSwitch]="currentStepType">
          <app-register-form
            *ngSwitchCase="'form'"
            nzOffset="6"
            nzSpan="12"
            [form]="currentFormObj"
          ></app-register-form>
          <app-confirm-content
            *ngSwitchCase="'confirm'"
            [eventName]="eventName"
          ></app-confirm-content>
          <div *ngSwitchDefault class="loading-icon-container">
            <i
              style="font-size: 36px;"
              nz-icon
              nzType="loading"
              nzTheme="outline"
            ></i>
          </div>
        </ng-container>
        <app-register-navigator
          [currentStep]="currentStep$ | async"
          [totalSteps]="totalSteps"
          (previousStep)="previousStep()"
          (nextStep)="nextStep()"
          [form]="currentFormObj"
          [steps]="steps"
        >
        </app-register-navigator>
      </app-content-container>
    </ng-container>
    <ng-template #notSSOAuthenticated>
      <h2 nz-title>You are not logged in with ChulaSSO</h2>
      <button nz-button nzType="primary" (click)="loginSSO()">
        Login with ChulaSSO
      </button>
    </ng-template>
  </nz-content>
  <nz-footer>Project Open Registration by Thinc.</nz-footer>
</nz-layout>
<!-- <button (click)="debug()"></button> -->
